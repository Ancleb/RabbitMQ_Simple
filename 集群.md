# 集群中节点的名字
    rabbit@hostname
    RabbitMQ 节点使用主机名相互通信。节点的数据也都存储在和以主机名命名的目录中。
    节点的名字由前缀和主机名组成。前缀默认是rabbit。主机名称可以手动在配置文件中指定RABBITMQ_NODENAME
    集群中的节点名称必须是唯一的。假如一个主机上有多个节点（这通常发生在开发和线上环境），它们必须使用不同的前缀来区分。
    如果集群中A节点在关闭期间，修改了集群身份？
        1. A节点修改了自己的主机名或者更改了数据集，则这个A启动时将无法加入该集群中了。A节点只能当做一个空白节点来使用了。
        2. A节点在脱机期间，它的对等B节点修改了自己的主机名称或者更改了数据集，A在启动时尝试连接B同步数据将会失败。因为B的集群身份发生了改变，不认识原来集群中的A节点了。


# 集群中的每个节点价值是等同的
    当前节点要加入集群时，不需要考虑我要追加到那个节点上。追加到任意一个节点上都可以加入集群，前提是这个节点存在于某一个集群中。
    一个节点宕机后，那些加入集群时指定目标是这个节点的节点不会受到影响，仍然在集群中正常运行。
    因为每个节点的价值相同，所以又称对等节点。

# 集群对等点的同步模式
    重新启动的节点将在启动时同步集群中其他对等点的数据模式信息等。在此过程完成之前节点处于未运行状态。
    节点在停止和重启时经历了哪些过程？
        1. 节点重启后会尝试连接集群中的对等点10次，每次响应超时为30s。共计5分钟
        2. 对等节点可用，连接成功后，该节点同步自己所需要的数据内容，然后正常运行。
        3. 对等节点不可用，连接失败后，该节点将自动停止启动。可以在rabbitmq日志中看到`time_out_waiting_for_table`
    节点全部停止后重启经历了哪些过程？
        1. 当一个节点停止时，集群中不存在其他对等节点时，这个节点可以在启动时不去尝试连接其他对等点以同步数据。第二个节点启动时可以从这个节点同步数据。
        2. 例如：升级场景，最后一个停止的节点必须是升级完成后第一个要启动的节点。其他节点可以在重新加入时从中同步数据。
        3. 某些情况下，最后一个脱机的节点无法恢复启用，则可以使用`forget_cluster_node`将它从集群中删除。使用`force_boot`命令强制启动一个节点，使其不会去尝试与其他对等节点同步。


# 客户端连接集群
    客户端可以选择连接集群中的任意一个节点。因为所有节点在集群中都是价值对等的。
    如果节点发生故障，则客户端应该可以识别到节点故障并尝试连接到其他的节点中。客户端支持将在连接时按顺序尝试的主机名列表。

# Disk节点和RAM节点
    Disk节点：加入集群时默认的节点类型。投递或者同步的消息可以存储在磁盘中
    RAM节点：仅将mq的数据库表，元数据保存在内存中。RAM节点不必像磁盘节点那样频繁的写入磁盘，因此它们可以更好地执行。但是，由于持久队列数据始终存储在磁盘上，因此性能改进只会影响资源管理（例如添加/删除队列、交换或虚拟主机），而不影响发布或消费速度。